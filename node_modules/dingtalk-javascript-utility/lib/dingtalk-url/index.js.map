{"version":3,"sources":["../../src/dingtalk-url/index.js"],"names":["format","url","query","search","stringify","parse","parseQueryString","location","hash","searchIndex","indexOf","hashIndex","slice","searchString","length"],"mappings":";;;;;;AAAA;;;;;;AAEA,SAASA,MAAT,CAAgBC,GAAhB,EAAqBC,KAArB,EAA2B;AACzB,MAAIC,SAAS,8BAAYC,SAAZ,CAAsBF,KAAtB,CAAb;AACA,SAAOD,MAAM,GAAN,GAAYE,MAAnB;AACD;;AAED,SAASE,KAAT,CAAeJ,GAAf,EAAmBK,gBAAnB,EAAoC;AAClC,MAAIC,WAAW;AACbC,UAAM,IADO;AAEbL,YAAQ;AAFK,GAAf;AAIA,MAAI,CAACF,GAAL,EAAS;AACP,WAAO,EAAP;AACD;AACD,MAAMQ,cAAcR,IAAIS,OAAJ,CAAY,GAAZ,CAApB;AACA,MAAID,gBAAgB,CAAC,CAArB,EAAuB;AACrB,WAAO,EAAP;AACD;AACD,MAAME,YAAYV,IAAIS,OAAJ,CAAY,GAAZ,CAAlB;AACA,MAAIC,YAAY,CAAC,CAAjB,EAAmB;AACjBJ,aAASC,IAAT,GAAgBP,IAAIW,KAAJ,CAAUD,SAAV,CAAhB;AACAJ,aAASJ,MAAT,GAAkBF,IAAIW,KAAJ,CAAUH,WAAV,EAAuBE,SAAvB,CAAlB;AACD,GAHD,MAGO;AACLJ,aAASJ,MAAT,GAAkBF,IAAIW,KAAJ,CAAUH,WAAV,CAAlB;AACD;AACD,MAAMI,eAAeN,SAASJ,MAAT,CAAgBS,KAAhB,CAAsB,CAAtB,CAArB;AACA,MAAMV,QAAQ,8BAAYG,KAAZ,CAAkBQ,YAAlB,CAAd;AACA,MAAI,OAAOP,gBAAP,KAA4B,QAA5B,IAAwCA,iBAAiBQ,MAAjB,GAA0B,CAAtE,EAAwE;AACtE,WAAOZ,MAAMI,gBAAN,CAAP;AACD,GAFD,MAEO;AACL,WAAOJ,KAAP;AACD;AACF;;kBAEc;AACbF,gBADa;AAEbK;AAFa,C","file":"index.js","sourcesContent":["import querystring from '../dingtalk-querystring';\n\nfunction format(url, query){\n  let search = querystring.stringify(query);\n  return url + '?' + search;\n}\n\nfunction parse(url,parseQueryString){\n  let location = {\n    hash: null,\n    search: null\n  };\n  if (!url){\n    return '';\n  }\n  const searchIndex = url.indexOf('?');\n  if (searchIndex === -1){\n    return '';\n  }\n  const hashIndex = url.indexOf('#');\n  if (hashIndex > -1){\n    location.hash = url.slice(hashIndex);\n    location.search = url.slice(searchIndex, hashIndex);\n  } else {\n    location.search = url.slice(searchIndex);\n  }\n  const searchString = location.search.slice(1);\n  const query = querystring.parse(searchString);\n  if (typeof parseQueryString === 'string' && parseQueryString.length > 0){\n    return query[parseQueryString];\n  } else {\n    return query;\n  }\n}\n\nexport default {\n  format,\n  parse\n}\n"]}