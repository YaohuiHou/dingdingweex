{"version":3,"sources":["../../src/dingtalk-config/index.js"],"names":["dingtalkWebUrl","originalUrl","tpl","parse","_wx_tpl","bundleUrl","createContainerConfig","containerConfig","WEB","location","href","WEEX","VUE","config","weex","RAX","__weex_options__"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;AAEA,SAASA,cAAT,CAAwBC,WAAxB,EAAoC;AAClC,MAAMC,MAAM,sBAAIC,KAAJ,CAAUF,WAAV,EAAsB,WAAtB,CAAZ;AACA,MAAMG,UAAU,sBAAID,KAAJ,CAAUF,WAAV,EAAsB,SAAtB,CAAhB;AACA,SAAO;AACLI,eAAWH,MAAMA,GAAN,GAAYE,UAAUA,OAAV,GAAoB,EADtC;AAELH;AAFK,GAAP;AAID;;AAED,SAASK,qBAAT,GAAgC;AAC9B,MAAIC,kBAAkB,EAAtB;AACA,MAAI,mBAAQC,GAAR,kBAAJ,EAA4B;AAC1BD,sBAAkBP,eAAeS,SAASC,IAAxB,CAAlB;AACD;AACD,MAAI,mBAAQC,IAAR,kBAAJ,EAA6B;AAC3B,QAAI,qBAAUC,GAAV,oBAAJ,EAAgC;AAC9B,UAAMC,SAASC,KAAKD,MAApB;AACAN,sBAAgBF,SAAhB,GAA4BQ,OAAOR,SAAnC;AACAE,sBAAgBN,WAAhB,GAA8BY,OAAOZ,WAArC;AACD;AACD,QAAI,qBAAUc,GAAV,oBAAJ,EAAgC;AAC9BR,sBAAgBF,SAAhB,GAA4BW,iBAAiBX,SAA7C;AACAE,sBAAgBN,WAAhB,GAA8Be,iBAAiBf,WAA/C;AACD;AACF;AACD,SAAOM,eAAP;AACD;;AAED,IAAMA,kBAAkBD,uBAAxB;;kBAEeC,e","file":"index.js","sourcesContent":["import { framework, runtime } from '../util.js';\nimport url from '../dingtalk-url';\nimport { RUNTIME, FRAMEWORK } from './constants.js';\n\nfunction dingtalkWebUrl(originalUrl){\n  const tpl = url.parse(originalUrl,'dd_wx_tpl');\n  const _wx_tpl = url.parse(originalUrl,'_wx_tpl');\n  return {\n    bundleUrl: tpl ? tpl : _wx_tpl ? _wx_tpl : '',\n    originalUrl\n  }\n}\n\nfunction createContainerConfig(){\n  let containerConfig = {}\n  if (RUNTIME.WEB === runtime){\n    containerConfig = dingtalkWebUrl(location.href);\n  }\n  if (RUNTIME.WEEX === runtime){\n    if (FRAMEWORK.VUE === framework){\n      const config = weex.config;\n      containerConfig.bundleUrl = config.bundleUrl;\n      containerConfig.originalUrl = config.originalUrl;\n    }\n    if (FRAMEWORK.RAX === framework){\n      containerConfig.bundleUrl = __weex_options__.bundleUrl;\n      containerConfig.originalUrl = __weex_options__.originalUrl;\n    }\n  }\n  return containerConfig;\n}\n\nconst containerConfig = createContainerConfig();\n\nexport default containerConfig;"]}